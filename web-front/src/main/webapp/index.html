<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>main page</title>
    <style>
        *{
            margin: 0px;
        }
        .navbar{
            width: 100%;
            height: 75px;
            background-color: aqua;
            display: flex;
            flex-direction: column;
            flex-wrap: wrap;
            font-size: x-large;
        }
        .navbar ul li{
            display: inline;
            float: right;
            margin: 20px 200px 0px 0px;
        }

        .slot-content{
            margin: 10% auto 0 auto;
            width: 550px;
            height: 150px;
            border: 1px solid black;
        }

        .play-content{
            margin: 25px auto 0 auto;
            width: 550px;
            height: 150px;
            /* border: 1px solid black; */
        }

        .play-content .spin-btn{
            background-color: greenyellow;
            border: none;
            border-radius: 12px;
            width: 100%;
            height: 50px;
        }

        .play-content .user-bet{
            border-radius: 12px;
            width: 99%;
            height: 30px;
        }
      
    </style>
</head>
<body>
    <div class="navbar">
        <ul>
            <li id="usernameElement">Username</li>
            <li id="balanceElement">Balance: 999</li>
        </ul>
    </div>
    
    <div class="slot-content">
        <div class="display-number" id="randomNumber">
            <!-- display random number here -->
        </div>
    </div>

    <div class="play-content">
        <button class="spin-btn">Play!</button>
        <input type="text" class="user-bet" placeholder="pleace your bet">
    </div>
   

    
</body>
<script>
    // Function to generate and display a random number
    function generateRandomNumber() {
        // Generate a random number between 1 and 100 (you can adjust the range)
        var randomNumber = Math.floor(Math.random() * 100) + 1;
        
        // Display the random number in the div
        document.getElementById('randomNumber').innerText = 'Random Number: ' + randomNumber;
    }

    // Add an event listener to the "Play!" button
    document.querySelector('.spin-btn').addEventListener('click', generateRandomNumber);


    // Function to extract query parameters from the URL
    function getQueryParam(name) {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get(name);
    }

    // Get the username from the query parameter
    const username = getQueryParam("userId");
    console.log("username is:" + username);

    // Make an AJAX request to your backend to retrieve user data based on username
    fetch(`http://localhost:8080/getUserDataByUsername?username=${username}`)
        .then(response => response.json())
        .then(data => {
            // Update the HTML content with the retrieved data
            document.getElementById('usernameElement').innerText = `Username: ${data.username}`; // Use lowercase "username"
            document.getElementById('balanceElement').innerText = `Balance: ${data.balance}`; // Use lowercase "balance"
        })
        .catch(error => {
            console.error("Error:", error);
        });


</script>

</html>
